#+TITLE: Raspiland
#+AUTHOR: Yurii Voderatskyi
#+DESCRIPTION: This project aims to automate configuration of my Raspberry Pi (RPi)

This project contains configurations for my Raspberry Pi (RPi)

* Pre-requisites
*** Your machine
 - [X] =Arch= based OS (for example, =Manjaro=) with =yay= package installed
 - [X] =Python 3.7+= and =poetry= installed
*** Raspberry
 - [X] Internet connectivity: Ethernet or Wi-Fi
 - [X] SSH access enabled
* Preparing for RPi OS for installation
  :PROPERTIES:
  :header-args: :tangle 10-prepare-sd-card.sh :comments both
  :END:
*** Plug-in the SD card
*** Install =Raspberry Pi Imager=: The official app to flash RPi images
    #+BEGIN_SRC shell :results output
      yay -Sy rpi-imager
      whereis rpi-imager
    #+END_SRC

    #+RESULTS:
    : rpi-imager: /usr/bin/rpi-imager

*** Flash =Ubuntu= to the SD card
    #+BEGIN_SRC shell
      rpi-imager
    #+END_SRC
    Select =Operating System=, =SD Card= and click on =WRITE= button. Wait for completion of the installation and verification.
    [[./images/pi-imager.png]]
* Let's get started
** Check SSH connection
    #+BEGIN_SRC shell :tangle 20-check.sh :comments both
      poetry run ansible all -i hosts.ini -m ping -u pi --ask-pass
    #+END_SRC
 
     #+BEGIN_EXAMPLE
     âžœ  poetry run ansible-host ansible all -i hosts.ini -m ping -u pi --ask-pass
     SSH password:
     [WARNING]: Platform linux on host 192.168.1.112 is using the discovered Python interpreter at
     /usr/bin/python, but future installation of another Python interpreter could change this. See
     https://docs.ansible.com/ansible/2.9/reference_appendices/interpreter_discovery.html for more
     information.
     192.168.1.112 | SUCCESS => {
     "ansible_facts": {
       "discovered_interpreter_python": "/usr/bin/python"
     },
     "changed": false,
     "ping": "pong"
     }
   #+END_EXAMPLE

* Links
- Raspbian: https://www.raspberrypi.org/downloads/raspbian/
- Raspbian Wi-Fi: https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md
- Raspbian SSH: https://www.raspberrypi.org/documentation/remote-access/ssh/
- Ansible Documentation: https://docs.ansible.com/
